{% extends "base.html" %}
{% block title %}Zone: {{ ctx.zone }}{% endblock %}

{% block main %}
<div class="section-header" style="text-shadow: none !important;
				   height: 7%;
				   width: 100%;
				   position: relative;
				   border-bottom: 1px solid #e7e7e7;">
  <div class="title" style="float: left;
			    font-size: 30px;
			    margin: 0px;
			    padding-left: 1%;
			    position: relative;
			    text-align: left;
			    top: 50%;
			    transform: translateY(-50%);
			    width: 74%;">
    <i class="fa fa-fw fa-list" aria-hidden="true"></i>
    Zone: {{ ctx.zone }}
  </div>
</div>
<div class="section-content" style="position:relative;width:100%;height:93%;overflow-y:auto;padding:0% 1%;">
  <div id="toolbar-zone">
    <a href="{{ url_for('unpublished') }}?zone={{ ctx.zone }}"
       id="zone-to-publish"
       class="publish btn btn-success" 
       id="zone-to-publish-button">
      <i class="fa fa-fw fa-arrow-up"></i>
    </a>
    <a href="#record-add"
       data-zone="{{ ctx.zone }}" data-view="{{ ctx.view }}"
       class="record-add btn btn-primary">
      <i class="fa fa-fw fa-plus"></i>
    </a>
    <a href="#"
       data-zoneid="{{ ctx.zone }}"
       class="delZone btn btn-danger"> 
      <i class="fa fa-fw fa-trash"></i>
    </a> 
    <a  href="#" class="btn btn-default"
	id="expiration-btn"
	data-zoneid="{{ ctx.zone }}">
      <i class="fa fa-fw fa-calendar"></i>
    </a>
  </div>
  <table id="table-zone"
	 data-toolbar="#toolbar-zone"
	 data-show-toggle="false" data-show-export="false"
	 data-show-columns="true" data-show-multi-sort="true"
	 data-sort-name="name" data-pagination="true"
	 data-toggle="table" data-search="true" data-striped="true"
	 data-show-footer="false"
	 data-escape="false" data-maintain-selected="true"
	 data-show-refresh="true"
	 data-url="{{url_for('api_zones')}}?"
	 data-response-handler="ZoneResponseHandler"
	 data-query-params="ZoneParams"
	 data-side-pagination="client"
	 data-show-header="true" data-reorderable-columns="true"
	 class="table-hover table-striped table-compact table-responsive
		table-condensed table-autosize">
    <thead>
      <tr>
	<th data-field="name" data-valign="middle"
	    data-align="left" data-sortable="true">
	  <i class="fa fa-fw fa-list"></i>
	  Name
	</th>
	<th data-field="type" data-valign="middle"
	    data-align="center" data-sortable="true">
	  <i class="fa fa-fw fa-list"></i>
	  Type
	</th>
	<th data-field="value" data-valign="middle"
	    data-align="left" data-sortable="true">
	  <i class="fa fa-fw fa-list"></i>
	  Value
	</th>
	<th data-field="ttl" data-valign="middle"
	    data-align="center" data-sortable="true">
	  <i class="fa fa-fw fa-time"></i>
	  TTL
	</th>
	<th data-field="action" data-valign="middle"
	    data-align="center" data-sortable="true"
	    data-formatter="actionsFormatter">
	  <i class="fa fa-fw fa-cog"></i>
	</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div> 	
{% endblock %}

{% block modals %} 
{% include "zones/modals/add_record.html" %}
{% include "zones/modals/edit_record.html" %}
{% include "zones/modals/expiration_modal.html" %}
{% endblock%}

{% block js %}
<script>
{% include "libs.js" %}
{% include "js/common.js" %}
{% include "zones/libs.js" %}
{% include "zones/zone.js" %}
</script>
{% endblock %}
