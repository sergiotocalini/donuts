{% extends "base.html" %}
{% block js %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>



{% endblock %}

{% block main %}

<div class='main-content'>
  <div class='row' style='margin-right: 0px;'>
    <div class='col-md-2'></div>
    <div class='col-md-4 text-center'>
      <h3>Domains without expiration data</h3>
      <div id='domain_exp_pie'></div>
    </div>
    <div class='col-md-4 text-center'>
      <h3>Top 5 Published zones</h3>
      <div id='published_pie'></div>
    </div>

  </div>
</div>


<script>
var chart = c3.generate({
  bindto: '#domain_exp_pie',
  data: {
    // iris data from R
    columns: [
     ['Yes', {{ctx.exp_counter}}],
     ['No', {{ctx.no_exp_counter}}],
    ],
    type : 'pie',
    onclick: function (d, i) { console.log("onclick", d, i); },
    onmouseover: function (d, i) { console.log("onmouseover", d, i); },
    onmouseout: function (d, i) { console.log("onmouseout", d, i); }
  }
});

var chart = c3.generate({
  bindto: '#published_pie',
  data: {
    // iris data from R
    columns: [
     {% for p in ctx.published %}
        ['{{p.0}}', {{p.1}}],
     {% endfor %}
    ],
    type : 'pie',
    onclick: function (d, i) { console.log("onclick", d, i); },
    onmouseover: function (d, i) { console.log("onmouseover", d, i); },
    onmouseout: function (d, i) { console.log("onmouseout", d, i); }
  }
});


</script>

{% endblock %}
